import os

class Config:
    """–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –±–æ—Ç–∞"""
    
    def __init__(self):
        self.BOT_TOKEN = os.environ.get('BOT_TOKEN')
        self.OPENWEATHER_API_KEY = os.environ.get('OPENWEATHER_API_KEY')
        self.WEBHOOK_URL = os.environ.get('WEBHOOK_URL')
        
        # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞
        self.BOT_NAME = "–ü–æ–≥–æ–¥–∞ –±–µ–∑ —Å—é—Ä–ø—Ä–∏–∑—ñ–≤"
        self.BOT_USERNAME = "@pogoda_bez_syurpryziv_bot"
        
        # –¢–∞—Ä–∏—Ñ–Ω—ñ –ø–ª–∞–Ω–∏
        self.PRICING_PLANS = {
            1: {'days': 2, 'name': '‚≠ê 1 –∑—ñ—Ä–∫–∞', 'description': '2 –¥–Ω—ñ (—Å—å–æ–≥–æ–¥–Ω—ñ + –∑–∞–≤—Ç—Ä–∞)'},
            2: {'days': 3, 'name': '‚≠ê‚≠ê 2 –∑—ñ—Ä–∫–∏', 'description': '3 –¥–Ω—ñ'},
            3: {'days': 4, 'name': '‚≠ê‚≠ê‚≠ê 3 –∑—ñ—Ä–∫–∏', 'description': '4 –¥–Ω—ñ'},
            4: {'days': 5, 'name': '‚≠ê‚≠ê‚≠ê‚≠ê 4 –∑—ñ—Ä–∫–∏', 'description': '5 –¥–Ω—ñ–≤'},
            5: {'days': 6, 'name': '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5 –∑—ñ—Ä–æ–∫', 'description': '6 –¥–Ω—ñ–≤ (–ú–ê–ö–°–ò–ú–£–ú!)'}
        }
        
        # –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        self.MESSAGES = {
            'start': """üå§Ô∏è –í—ñ—Ç–∞—î–º–æ –≤ "–ü–æ–≥–æ–¥–∞ –±–µ–∑ —Å—é—Ä–ø—Ä–∏–∑—ñ–≤"!

üéØ –ù–∞—à—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:
‚Ä¢ –¢–æ—á–Ω—ñ –ø—Ä–æ–≥–Ω–æ–∑–∏ –ø–æ–≥–æ–¥–∏ –Ω–∞ 2-6 –¥–Ω—ñ–≤
‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∞ —è–∫—ñ—Å—Ç—å –ø–æ–≤—ñ—Ç—Ä—è –∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏
‚Ä¢ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ —á–∞—Å—Ç–∏–Ω–∞—Ö –¥–æ–±–∏
‚Ä¢ –§–∞–∑–∞ –º—ñ—Å—è—Ü—è —Ç–∞ —á–∞—Å —Å—Ö–æ–¥—É/–∑–∞—Ö–æ–¥—É —Å–æ–Ω—Ü—è

üí´ –¢–∞—Ä–∏—Ñ–∏:
‚≠ê 1 –∑—ñ—Ä–∫–∞ = 2 –¥–Ω—ñ
‚≠ê‚≠ê 2 –∑—ñ—Ä–∫–∏ = 3 –¥–Ω—ñ
‚≠ê‚≠ê‚≠ê 3 –∑—ñ—Ä–∫–∏ = 4 –¥–Ω—ñ
‚≠ê‚≠ê‚≠ê‚≠ê 4 –∑—ñ—Ä–∫–∏ = 5 –¥–Ω—ñ–≤
‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5 –∑—ñ—Ä–æ–∫ = 6 –¥–Ω—ñ–≤

üöÄ –ü–æ—á–Ω—ñ—Ç—å –∑ –∫–æ–º–∞–Ω–¥–∏ /weather""",
            
            'weather_menu': """üå§Ô∏è –û–±–µ—Ä—ñ—Ç—å —Ç–∞—Ä–∏—Ñ –ø—Ä–æ–≥–Ω–æ–∑—É –ø–æ–≥–æ–¥–∏:

‚≠ê 1 –∑—ñ—Ä–∫–∞ = 2 –¥–Ω—ñ (—Å—å–æ–≥–æ–¥–Ω—ñ + –∑–∞–≤—Ç—Ä–∞)
‚≠ê‚≠ê 2 –∑—ñ—Ä–∫–∏ = 3 –¥–Ω—ñ
‚≠ê‚≠ê‚≠ê 3 –∑—ñ—Ä–∫–∏ = 4 –¥–Ω—ñ
‚≠ê‚≠ê‚≠ê‚≠ê 4 –∑—ñ—Ä–∫–∏ = 5 –¥–Ω—ñ–≤
‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5 –∑—ñ—Ä–æ–∫ = 6 –¥–Ω—ñ–≤ (–ú–ê–ö–°–ò–ú–£–ú!)

üéØ –í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ç–∞—Ä–∏—Ñ:""",
            
            'payment_success': "‚úÖ –û–ø–ª–∞—Ç—É {stars} –∑—ñ—Ä–æ–∫ —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ!\n\nüí´ –í–∏ –ø—Ä–∏–¥–±–∞–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥–∏ –Ω–∞ {days} –¥–Ω—ñ–≤!\n\nüìç –ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫: –ù–∞–¥—ñ—à–ª—ñ—Ç—å –≤–∞—à—É –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é –∞–±–æ –Ω–∞–ø–∏—à—ñ—Ç—å –Ω–∞–∑–≤—É –º—ñ—Å—Ç–∞.\n\nüéØ –í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –Ω–∞–π–¥–µ—Ç–∞–ª—å–Ω—ñ—à–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –∑ —É—Å—ñ–º–∞ –º–æ–∂–ª–∏–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏!",
            
            'processing': "üîÑ –û–±—Ä–æ–±–ª—è—î–º–æ –≤–∞—à—É –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—é —Ç–∞ –æ—Ç—Ä–∏–º—É—î–º–æ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥–∏...",
            
            'no_payment': "‚ùå –°–ø–æ—á–∞—Ç–∫—É –æ–ø–ª–∞—Ç—ñ—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –∫–æ–º–∞–Ω–¥–æ—é /weather",
            
            'weather_error': "‚ùå –ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –ø–æ–≥–æ–¥—É. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ –∞–±–æ –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.",
            
            'forecast_ready': "üéâ –ü—Ä–æ–≥–Ω–æ–∑ –≥–æ—Ç–æ–≤–∏–π! –û–±–µ—Ä—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—É –¥—ñ—é:"
        }
        
        # Call-to-action –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        self.CALL_TO_ACTIONS = [
            f"üéØ –¢–æ—á–Ω—ñ –ø—Ä–æ–≥–Ω–æ–∑–∏ –±–µ–∑ —Å—é—Ä–ø—Ä–∏–∑—ñ–≤! {self.BOT_USERNAME}",
            f"‚≠ê –î–µ—Ç–∞–ª—å–Ω–∞ –ø–æ–≥–æ–¥–∞ –∑–∞ –∑—ñ—Ä–∫–∏! {self.BOT_USERNAME}",
            f"üå§Ô∏è –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –ø—Ä–æ–≥–Ω–æ–∑–∏ —Ç—É—Ç: {self.BOT_USERNAME}",
            f"üí´ –ü–æ–≥–æ–¥–∞ –±–µ–∑ —Å—é—Ä–ø—Ä–∏–∑—ñ–≤: {self.BOT_USERNAME}",
            f"üîÆ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª—å–Ω—ñ –ø—Ä–æ–≥–Ω–æ–∑–∏: {self.BOT_USERNAME}",
            f"üåü –ù–∞–π—Ç–æ—á–Ω—ñ—à—ñ –ø—Ä–æ–≥–Ω–æ–∑–∏: {self.BOT_USERNAME}"
        ]
        
        # –ù–∞–∑–≤–∏ –¥–Ω—ñ–≤
        self.DAY_NAMES = ['–°–¨–û–ì–û–î–ù–Ü', '–ó–ê–í–¢–†–ê', '–ü–Ü–°–õ–Ø–ó–ê–í–¢–†–ê', '–ß–ï–†–ï–ó 3 –î–ù–Ü', '–ß–ï–†–ï–ó 4 –î–ù–Ü', '–ß–ï–†–ï–ó 5 –î–ù–Ü–í']
        
        # –Ü–Ω–¥–µ–∫—Å —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è
        self.AQI_LABELS = {
            1: '–î–æ–±—Ä–∞ üü¢',
            2: '–ó–∞–¥–æ–≤—ñ–ª—å–Ω–∞ üü°', 
            3: '–ü–æ–º—ñ—Ä–Ω–∞ üü†',
            4: '–ü–æ–≥–∞–Ω–∞ üî¥',
            5: '–î—É–∂–µ –ø–æ–≥–∞–Ω–∞ üü£'
        }
    
    def get_pricing_plan(self, stars):
        """–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω—É"""
        return self.PRICING_PLANS.get(stars)
    
    def validate_config(self):
        """–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó"""
        errors = []
        
        if not self.BOT_TOKEN:
            errors.append("BOT_TOKEN not set")
        
        if not self.OPENWEATHER_API_KEY:
            errors.append("OPENWEATHER_API_KEY not set")
            
        if not self.WEBHOOK_URL:
            errors.append("WEBHOOK_URL not set")
        
        return len(errors) == 0, errors
